<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="/css/variables.css">
        <link rel="stylesheet" href="/css/chat.css">

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    
        <title>AI Chats</title>
    </head>
    <body>
        <div class="main">
            <div id="model-modal" style="display:none;" onclick="Chat.handleModalSomewhereElseClick(event)">
                <div>
                    <div class="modal-header">
                        <h1 id="model-name">
                            ChatGPT
                        </h1>
                        <img onclick="Chat.hideModal()" src="/assets/images/x.png">
                    </div>
                    <pre id="model-parameters"><code contenteditable="true" spellcheck="false"></code></pre>
                    <input type="text" id="model-systeminstruct">
                    <button onclick="Chat.hideModal()">Save</button>
                    <button onclick="Chat.resetModalModelOverrides()" class="delete">Reset to default</button>
                </div>
            </div>
            <div class="sidebar-left">
                <span class="sidebar-header">
                    Model
                </span>
                <div id="models"></div>
            </div>
            <div class="chat-window">
                <div id="expand-models">
                    <i class="material-icons" onclick="Utils.hideSidebar()">menu</i>
                </div>
                <div class="textbox-area">
                    <i class="material-icons expand-actions" id="action-expander" onclick="Utils.expandActions()">expand_more</i>
                    <div class="input">
                        <textarea id="textbox" rows="1" placeholder="Message" onkeyup="Utils.textboxInput(event)" oninput="Chat.expandTextbox()" onpaste="Utils.pasteOnTextbox(event)"></textarea>
                        <i onclick="Chat.sendMessage()" class="material-icons">send</i>
                    </div>
                </div>
                <div id="actions">
                    <div class="action" onclick="Utils.resetChat()">
                        <i class="material-icons">delete</i>
                        <span>Delete Chat</span>
                    </div>
                    <div class="action" onclick="Utils.toggleAttachmentUpload()">
                        <i class="material-icons">image</i>
                        <span>Attach Image</span>
                    </div>
                    <div class="action" onclick="Utils.exportChat()">
                        <i class="material-icons">file_upload</i>
                        <span>Export Chat (JSON)</span>
                    </div>
                </div>
                <div id="fileupload" class="hidden">
                    <input type="file" id="fileattachment" accept="image/*" onchange="Utils.previewAttachment()">
                    <img id="attachmentpreview" style="display:none;">
                </div>
                <div id="messages"></div>
            </div>
        </div>
    </body>
    <script src="/scripts/storage.js"></script>
    <script src="/scripts/utils.js"></script>
    <script src="/scripts/chat.js"></script>
</html>